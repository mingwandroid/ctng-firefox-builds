From 185f9e6ce739eacdaba4dc569c2484f7a332f577 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sat, 12 Apr 2014 13:15:15 +0100
Subject: [PATCH 03/37] gcc: Add --with-multilib-list option

.. actually by Bryan Hundven.

Signed-off-by: Ray Donnelly <mingw.android@gmail.com>
---
 config/cc/gcc.in.2          | 8 ++++++++
 scripts/build/cc/100-gcc.sh | 6 ++++++
 2 files changed, 14 insertions(+)

diff --git a/config/cc/gcc.in.2 b/config/cc/gcc.in.2
index aef06ba..ee9e0a8 100644
--- a/config/cc/gcc.in.2
+++ b/config/cc/gcc.in.2
@@ -147,6 +147,14 @@ config CC_GCC_LIBQUADMATH
 
 comment "Misc. obscure options."
 
+config CC_GCC_MULTILIB_LIST
+    string
+    prompt "Multilib list"
+    depends on MULTILIB
+    depends on ARCH_sh || ARCH_x86
+    help
+     Seek shelter.
+
 config CC_CXA_ATEXIT
     bool
     prompt "Use __cxa_atexit"
diff --git a/scripts/build/cc/100-gcc.sh b/scripts/build/cc/100-gcc.sh
index 7498513..9a180bb 100644
--- a/scripts/build/cc/100-gcc.sh
+++ b/scripts/build/cc/100-gcc.sh
@@ -371,6 +371,9 @@ do_gcc_core_backend() {
 
     if [ "${CT_MULTILIB}" = "y" ]; then
         extra_config+=("--enable-multilib")
+        if [ -n "${CT_CC_GCC_MULTILIB_LIST}" ]; then
+            extra_config+=("--with-multilib-list=${CT_CC_GCC_MULTILIB_LIST}")
+        fi
     else
         extra_config+=("--disable-multilib")
     fi
@@ -866,6 +869,9 @@ do_gcc_backend() {
 
     if [ "${CT_MULTILIB}" = "y" ]; then
         extra_config+=("--enable-multilib")
+        if [ -n "${CT_CC_GCC_MULTILIB_LIST}" ]; then
+            extra_config+=("--with-multilib-list=${CT_CC_GCC_MULTILIB_LIST}")
+        fi
     else
         extra_config+=("--disable-multilib")
     fi
-- 
1.9.2

