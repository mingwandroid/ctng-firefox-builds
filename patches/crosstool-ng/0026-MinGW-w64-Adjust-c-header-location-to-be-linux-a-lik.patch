From d4ef3df7c3e3fcc4fa97176b99900381c613aab8 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Thu, 16 Jan 2014 18:20:31 +0000
Subject: [PATCH 26/26] MinGW-w64: Adjust c++ header location to be
 linux-a-like

---
 scripts/build/cc/100-gcc.sh | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/scripts/build/cc/100-gcc.sh b/scripts/build/cc/100-gcc.sh
index acf53fa..1c218de 100644
--- a/scripts/build/cc/100-gcc.sh
+++ b/scripts/build/cc/100-gcc.sh
@@ -393,6 +393,12 @@ do_gcc_core_backend() {
         extra_config+=("--with-lipo=${CT_PREFIX_DIR}/bin/${CT_TARGET}-lipo${exeext}")
     fi
 
+    # MinGW-w64 now do this. It puts the c++ headers in the same place
+    # as on a Linux build and is also where clang++ looks for them.
+    if [ ! "${CT_TARGET/mingw/}" = "${CT_TARGET}" ]; then
+        extra_config+=("--with-gxx-include-dir=${prefix}/include/c++/${CT_CC_GCC_VERSION}")
+    fi
+
     if [ ! "${CT_TARGET/mingw/}" = "${CT_TARGET}" -o ! "${CT_TARGET/cygwin/}" = "${CT_TARGET}" ]; then
         # This folder must exist otherwise you get an error:
         # The directory that should contain system headers does not exist:
-- 
1.8.5.2

